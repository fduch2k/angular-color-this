/*****************************
 * Copyright (c) 2016 by Alexander Hramov
 * Licensed under MIT
 */
 "use strict";angular.module("ngColorThis",[]).provider("tsColor",function(){var r=.8;var e=.7;this.setSaturation=function(e){r=e};this.setValue=function(r){e=r};this.$get=function(){function t(r){var e=2166136261;var t=e;for(var n=0;n<r.length;++n){t^=r.charCodeAt(n);t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}return t>>>0}function n(r,e,t){if(e===0){return"#000"}r/=60;var n=Math.floor(r);var o=r-n;var u=Math.round(t*(1-e)*255);var a=Math.round(t*(1-e*o)*255);var c=Math.round(t*(1-e*(1-o))*255);t=Math.round(t*255);switch(n){case 0:return{red:t,green:c,blue:u};case 1:return{red:a,green:t,blue:u};case 2:return{red:u,green:t,blue:c};case 3:return{red:u,green:a,blue:t};case 4:return{red:c,green:u,blue:t};default:return{red:t,green:u,blue:a}}}function o(o){var u=t(o)%4096;var a=u/4096*360;return n(a,r,e)}function u(r,e,t){var n=r*299+e*587+t*114;return n>=128e3?"#000000":"#FFFFFF"}function a(r,e,t){return"rgb("+r+", "+e+", "+t+")"}return{convert:o,getContrastColor:u,rgbToCSS:a}}}).directive("colorThis",["tsColor",function(r){return{restrict:"A",scope:{color:"="},link:function(e,t,n){e.$watch("color",function(e){if(e){var o=r.convert(e);var u=r.rgbToCSS(o.red,o.green,o.blue);t.css(n.colorThis,u);if(n.contrastColor){t.css(n.contrastColor,r.getContrastColor(o.red,o.green,o.blue))}}},true)}}}]);
